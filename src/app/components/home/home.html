<main class="flex-grow">
  <!-- Hero Section -->
  <section class="relative py-20 md:py-32 overflow-hidden">
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0">
      <img src="/bg.jpeg" 
           alt="Egyptian craftsmen" 
           class="w-full h-full object-cover">
      <div class="absolute inset-0 bg-slate-50/70 dark:bg-slate-900/70"></div>
    </div>
    
    <div class="container mx-auto px-4 text-center relative z-10">
      <div class="max-w-3xl mx-auto">
        <h1 class="text-4xl md:text-6xl font-black tracking-tight text-slate-900 dark:text-white">ابحث عن أفضل الصنايعية في مصر</h1>
        <p class="mt-6 text-lg text-slate-600 dark:text-slate-400">احصل على أفضل خدمة من أمهر الحرفيين في منطقتك بكل سهولة وأمان.</p>
        <div class="mt-10 max-w-4xl mx-auto bg-white dark:bg-slate-800 p-2 rounded-full shadow-2xl shadow-slate-200/50 dark:shadow-black/20">
          <form (ngSubmit)="onSearch()" class="grid grid-cols-1 md:grid-cols-[1fr,1fr,1fr,auto] gap-2 items-center">
            <div class="relative flex items-center">
              <span class="material-symbols-outlined absolute right-4 text-slate-400">construction</span>
              <select [(ngModel)]="selectedService" name="service" class="w-full h-14 pl-4 pr-12 text-slate-900 dark:text-white bg-slate-100 dark:bg-slate-700 border-transparent rounded-full focus:ring-primary focus:border-primary appearance-none">
                <option *ngFor="let service of services" [value]="service.title">{{ service.title }}</option>
              </select>
              <span class="material-symbols-outlined absolute left-4 text-slate-400 pointer-events-none">expand_more</span>
            </div>
            <div class="relative flex items-center">
              <span class="material-symbols-outlined absolute right-4 text-slate-400">location_on</span>
              <select [(ngModel)]="selectedLocation" name="location" (ngModelChange)="onGovernorateChange()" class="w-full h-14 pl-4 pr-12 text-slate-900 dark:text-white bg-slate-100 dark:bg-slate-700 border-transparent rounded-full focus:ring-primary focus:border-primary appearance-none">
                <option value="" disabled selected>اختر المحافظة</option>
                <option *ngFor="let gov of governorates" [value]="gov">{{ gov }}</option>
              </select>
              <span class="material-symbols-outlined absolute left-4 text-slate-400 pointer-events-none">expand_more</span>
            </div>
            <div class="relative flex items-center">
              <span class="material-symbols-outlined absolute right-4 text-slate-400">location_city</span>
              <select [(ngModel)]="selectedCity" name="city" [disabled]="filteredCities().length === 0" class="w-full h-14 pl-4 pr-12 text-slate-900 dark:text-white bg-slate-100 dark:bg-slate-700 border-transparent rounded-full focus:ring-primary focus:border-primary appearance-none disabled:opacity-50 disabled:cursor-not-allowed">
                <option value="" disabled selected>اختر المدينة/المركز</option>
                <option *ngFor="let city of filteredCities()" [value]="city">{{ city }}</option>
              </select>
              <span class="material-symbols-outlined absolute left-4 text-slate-400 pointer-events-none">expand_more</span>
            </div>
<<<<<<< HEAD
            <button type="submit" class="flex items-center justify-center gap-2 w-full md:w-auto h-14 px-8 bg-primary text-white font-bold rounded-full shadow-lg shadow-primary/30 hover:bg-primary/90 transition-colors" routerLink="/search">
              <span class="material-symbols-outlined">search</span>
              <span>ابحث</span>
              
=======
            <button type="submit" class="flex items-center justify-center gap-2 w-full md:w-auto h-14 px-8 bg-primary text-white font-bold rounded-full shadow-lg shadow-primary/30 hover:bg-primary/90 transition-colors">
              <span class="material-symbols-outlined">search</span>
              <span>ابحث</span>
>>>>>>> 7e1f683aff7da544e1f1cf5f92fd37aa01125cfb
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Grid -->
  <section class="py-20">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold tracking-tight text-slate-900 dark:text-white">الخدمات الأكثر طلباً</h2>
        <p class="mt-3 text-slate-600 dark:text-slate-400">تصفح مجموعة واسعة من الخدمات المنزلية التي نقدمها.</p>
      </div>
      <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-6">
        <div *ngFor="let service of services" (click)="onServiceClick(service)" class="flex flex-col items-center justify-center gap-3 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-800/50 p-6 text-center transition-all hover:shadow-lg hover:border-primary/50 hover:-translate-y-1 cursor-pointer">
          <div class="flex items-center justify-center size-16 bg-primary/10 text-primary rounded-full">
            <span class="material-symbols-outlined text-3xl">{{ service.icon }}</span>
          </div>
          <div class="flex flex-col gap-1">
            <h3 class="text-base font-bold text-slate-900 dark:text-white">{{ service.title }}</h3>
            <p class="text-sm text-slate-500 dark:text-slate-400">{{ service.description }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How it Works -->
  <section class="py-20 bg-slate-50 dark:bg-slate-900/50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold tracking-tight text-slate-900 dark:text-white">كيف يعمل الموقع؟</h2>
        <p class="mt-3 text-slate-600 dark:text-slate-400">ثلاث خطوات بسيطة للحصول على أفضل خدمة.</p>
      </div>
      <div class="grid md:grid-cols-3 gap-8 text-center">
        <div *ngFor="let step of workSteps" class="flex flex-col items-center">
          <div class="flex items-center justify-center size-20 rounded-full bg-secondary/10 text-secondary mb-4">
            <span class="material-symbols-outlined text-4xl">{{ step.icon }}</span>
          </div>
          <h3 class="font-bold text-lg mb-2 text-slate-900 dark:text-white">{{ step.step }}. {{ step.title }}</h3>
          <p class="text-slate-600 dark:text-slate-400">{{ step.description }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="py-20">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold tracking-tight text-slate-900 dark:text-white">آراء عملائنا</h2>
        <p class="mt-3 text-slate-600 dark:text-slate-400">ماذا يقول عملاؤنا عن تجربتهم مع صنايعي مصر.</p>
      </div>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        <div *ngFor="let testimonial of testimonials" class="bg-white dark:bg-slate-800/50 border border-slate-200 dark:border-slate-800 rounded-xl p-6">
          <div class="flex items-center mb-4">
            <img [alt]="'صورة العميل ' + testimonial.name" class="w-12 h-12 rounded-full object-cover mr-4" [src]="testimonial.image"/>
            <div>
              <h4 class="font-bold text-slate-900 dark:text-white">{{ testimonial.name }}</h4>
              <div class="flex text-amber-400">
                <ng-container *ngFor="let star of getStarArray(testimonial.rating); let i = index">
                  <span class="material-symbols-outlined !text-base">
                    {{ hasHalfStar(testimonial.rating, i) ? 'star_half' : (star ? 'star' : 'star') }}
                  </span>
                </ng-container>
              </div>
            </div>
          </div>
          <p class="text-slate-600 dark:text-slate-400">{{ testimonial.text }}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Statistics -->
  <section class="py-20 bg-primary text-white">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-3 gap-8 text-center">
        <div *ngFor="let stat of statistics">
          <span class="text-5xl font-black">{{ stat.value }}</span>
          <p class="mt-2 text-lg opacity-80">{{ stat.label }}</p>
        </div>
      </div>
    </div>
  </section>
</main>

